function Validator(e,t){var o=this;function a(e){e.preventDefault();for(let e=0,t=o.dataValidator.length;e<t;e++){const t=o.dataValidator[e];if(Object.prototype.hasOwnProperty.call(o.config.regex,t.option)&&("file"===t.element.type&&"fileSize"===t.option&&t.files[0].size/1024>1024&&(t.element.value=""),"file"!==t.element.type&&(t.element.value=t.element.value.replace(o.config.regex.space,"")),!o.config.regex[t.option].test(t.element.value))){if(!0===o.config.responseTo.sendMsg)o.config.responseTo.method instanceof Function&&o.config.responseTo.method({response:!1,msg:t.msg});else{document.querySelector(".validator-modal-content").innerText=t.msg,n()}t.element.value="",t.element.focus(),e=o.dataValidator.length}}o.config.responseTo.method instanceof Function&&o.config.responseTo.method({response:!0,msg:"All right!"})}function n(){document.querySelector(".validator-modal-overlay").classList.toggle("validator-show")}function l(e,t){const o=document.createElement(e);return void 0!==t&&(o.className=t),o}function i(e){e=e||{};for(let t=1,o=arguments.length;t<o;t++)if(arguments[t])for(const o in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],o)&&(e[o]=arguments[t][o]);return e}return e._validator&&(e._validator||o).clear(),e._validator=o,o.element=e,o.instanceConfig=t||{},function(){o.config=Object.create(Validator.defaultConfig);const e=i({},o.instanceConfig,o.element.dataset||{});i(o.config,e)}(),function(){const e=document.createDocumentFragment();var t=l("button","v-button"),a=l("div","validator-modal-wrap"),n=l("div","validator-modal-header"),i=l("div","validator-modal-footer"),r=l("div","validator-modal-content"),d=l("div","validator-modal-overlay");t.innerText=o.config.modal.buttonText,Array.isArray(o.config.buttonClass)?o.config.buttonClass.forEach(e=>{t.classList.add(e)}):""!==o.config.buttonClass?t.classList.add(o.config.buttonClass):t.classList.add("validator-modal-button"),i.appendChild(t),n.appendChild(l("h5")),n.querySelector("h5").innerText=o.config.modal.headerText,Array.isArray(o.config.HeaderClass)?o.config.buttonClass.forEach(e=>{n.querySelector("h5").add(e)}):""!==o.config.buttonClass&&n.querySelector("h5").classList.add(o.config.headerClass),a.appendChild(n),a.appendChild(r),a.appendChild(i),d.appendChild(a),e.appendChild(d),document.body.appendChild(e)}(),function(){var e=o.element.querySelectorAll("[data-validator]");o.dataValidator=[];for(let t=0,a=e.length;t<a;t++){const a=e[t].getAttribute("data-validator-msg").split("^"),n=e[t].getAttribute("data-validator").split("^");for(let l=0,i=a.length;l<i;l++){const i={option:n[l],msg:a[l],element:e[t]};o.dataValidator.push(i)}}}(),function(){const e=void 0!==window.ontouchstart?"touchstart":"click";o.element.querySelector('[data-trigger="validator"]').addEventListener(e,a),document.querySelector(".v-button").addEventListener(e,n)}(),o}function _validator(e,t){e.length;var o=[];for(let a=0,n=e.length;a<n;a++)try{e[a]._validator=new Validator(e[a],t||{}),o.push(e[a]._validator)}catch(e){}}function validator(e,t){return _validator(document.querySelectorAll(e),t)}Validator.defaultConfig={regex:{empty:/([^\s])/,space:/\s+abc/,phoneLength:/^\d{10}$/,phone:/^(\d)(?!\1+$)\d*$/,fileFormat:/\.(jpg|jpeg|png|pdf)$/i,fileSize:/([^\s])/,mail:/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i},modal:{buttonText:"Ok",headerText:"Notice"},buttonClass:"",headerClass:"",responseTo:{method:"",sendMsg:!1}},"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.validator=NodeList.prototype.validator=function(e){return _validator(this,e)},HTMLElement.prototype.validator=function(e){return _validator([this],e)}),"undefined"!=typeof jQuery&&(jQuery.fn.validator=function(e){return _validator(this,e)}),"undefined"!=typeof module&&(module.exports=Validator);
